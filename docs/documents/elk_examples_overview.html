
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Examples Overview &#8212; Elk DevKit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Overview" href="elk_pi_datasheet.html" />
    <link rel="prev" title="elkpy.TransportControlller" href="../elkpy-doc/elkpy.transportcontroller.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="elk_pi_datasheet.html" title="Overview"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../elkpy-doc/elkpy.transportcontroller.html" title="elkpy.TransportControlller"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Elk DevKit  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Examples Overview</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="examples-overview">
<h1>Examples Overview<a class="headerlink" href="#examples-overview" title="Permalink to this headline">¶</a></h1>
<p>All Elk example files can be downloaded from our <a class="reference external" href="https://github.com/elk-audio/elk-examples/">elk-examples repository</a>, with the binary files they depend on available in the <a class="reference external" href="https://github.com/elk-audio/elk-examples/releases">Releases section</a>.</p>
<p>The examples include first some basic plugin hosting examples, with GUI templates demonstrating how they can be remote controlled over Open Sound Control.</p>
<p>Then we present a set of complete instrument examples, which also involve the Blackboard, Sensei, and Python glue programs for integrating these into a complete instrument.</p>
</section>
<section id="basic-plugin-hosting">
<h1>Basic Plugin Hosting<a class="headerlink" href="#basic-plugin-hosting" title="Permalink to this headline">¶</a></h1>
<p>For the first three examples, on hosting and controlling a plugin, we have chosen to use the same instrument, the <a class="reference external" href="https://sourceforge.net/projects/mda-vst/">MDA JX10 synthesizer</a>, using ports of it for all three different plugin formats. This allows us to better illustrate the slight differences between the formats, than if we had used a different plugin for each.</p>
<p>Note that the linked files below, are all built for running natively on Linux or the UpCore board. All are for an Intel architecture, and will also run on Linux natively on an Intel computer.</p>
<p>Plugin binaries built to run natively on the ARM-based Elk Pi are included in the development image for those boards.</p>
<p><strong>Note:</strong> In our Open Stage Control template, the address for the JX10 synth is easily changed: enable editing, click on the “JX-10 ELK CONTROLLER”-title, and then, in the ‘osc’-section of the editor, set the ‘address’ field to “/parameter/your_synth_name”, instead of the current “/parameter/jx10”.</p>
<section id="mda-jx10-vst3">
<h2>MDA JX10 VST3<a class="headerlink" href="#mda-jx10-vst3" title="Permalink to this headline">¶</a></h2>
<p>This example requires the following files:</p>
<ol class="simple">
<li><p>config_play_vst3.json - the Sushi configuration file.</p></li>
<li><p>mda_jx10_vst3_open_stage_control_gui.json - the Open Stage Control GUI.</p></li>
<li><p><a class="reference external" href="https://github.com/elk-audio/elk-examples/releases/download/examples_01/mda-vst3.vst3.tar.xz">mda-vst3.vst3.tar.xz</a> - a build of the MDA VST 3 plugins, containing also the JX 10 Synthesizer binary.</p></li>
<li><p>mda-vst3-touchosc-gui.touchosc - a <a class="reference external" href="https://hexler.net/products/touchosc">TouchOSC</a> GUI controller, mirroring the controls in the Open Stage Control GUI.</p></li>
</ol>
<p>First unpack the tar-file with the plugin to your local drive, and edit the <em>config_play_vst3_desktop.json</em> to refer to that path, or place it in <em>/usr/lib/lxvst/</em>, the default path in the configuration path, and the  path commonly used for vst plugins on Linux.</p>
<p>The example serves to demonstrate how to instantiate Sushi with a single VST 3 instrument reacting to MIDI and OSC control messages, sent using the accompanying GUI file for Open Stage Control.</p>
<p>This is the example referred to also in our guide for getting started with the <a class="reference internal" href="getting_started_with_development_kit_software.html"><span class="doc">Elk Development Kit Software</span></a>.</p>
</section>
<section id="mda-jx10-vst2">
<h2>MDA JX10 VST2<a class="headerlink" href="#mda-jx10-vst2" title="Permalink to this headline">¶</a></h2>
<p>Control of plugin parameters is to certain extent different between VST 2 and VST 3, which we illustrate by including two examples involving the same synth plugin, JX 10, both for VST 2 and VST 3.</p>
<p>This example requires the following files:</p>
<ol class="simple">
<li><p>config_play_vst2_desktop.json - the Sushi configuration file.</p></li>
<li><p>mda_jx10_vst2_open_stage_control_gui.json - the Open Stage Control GUI.</p></li>
<li><p><a class="reference external" href="https://github.com/elk-audio/elk-examples/releases/download/examples_01/mda-vst2-plugins.tar.gz">mda-vst2-plugins.tar.gz</a> - a build of the MDA VST 2 plugins, containing also the JX 10 Synthesizer binary.</p></li>
</ol>
<p>You will notice that the OSC GUI for the VST 2 version lacks controls for Pitch and Modulation, which the VST 3 version has.</p>
<p>The reason is, those are in VST 2 received and handled as MIDI values, from your MIDI controller keyboard, while, for the VST 3 version of the same plugin, they are control parameters exposed over the VST 3 standard.</p>
<p>The instructions for the VST 3 example in the guide for getting started with the <a class="reference internal" href="getting_started_with_development_kit_software.html"><span class="doc">Elk Development Kit Software</span></a> translate straightforwardly also for this VST 2 example - just read VST 2 where in the text and paths, VST 3 is specified.</p>
<p><strong>IMPORTANT NOTE:</strong> The MDA JX10 VST 2 plugin will not work on the Raspberry Pi Elk, purely due to a bug in the plugin. We nonetheless leave this example, to best illustrate the differences between using VST 2 and VST 3.  Also, the MDA JX10 VST 2 will run fine on desktop Linux, as the bug does not affect that platform.</p>
</section>
<section id="lv2vst-wrapper-with-mda-jx10-lv2">
<h2>LV2VST Wrapper, with MDA JX10 LV2<a class="headerlink" href="#lv2vst-wrapper-with-mda-jx10-lv2" title="Permalink to this headline">¶</a></h2>
<p>This example requires the following files:</p>
<ol class="simple">
<li><p>config_play_lv2vst.json - the Sushi configuration file.</p></li>
<li><p>mda_jx10_lv2vst_open_stage_control_gui.json - the Open Stage Control GUI.</p></li>
<li><p><a class="reference external" href="https://github.com/elk-audio/elk-examples/releases/download/examples_01/lv2vst_plugin.tar.xz">lv2vst_plugin.tar.xz</a> - the LV2VST plugin, and it’s corresponding .whitelist file, referring it to which LV2 plugin it should load.</p></li>
<li><p><a class="reference external" href="https://github.com/elk-audio/elk-examples/releases/download/examples_01/mod-mda-JX10.lv2.tar.xz">mod-mda-JX10.lv2.tar.xz</a> - the LV2 MDA JX 10 plugin for x86 desktop Linux.</p></li>
</ol>
<p>Again, the instructions for the VST 3 example in the guide for getting started with the <a class="reference internal" href="getting_started_with_development_kit_software.html"><span class="doc">Elk Development Kit Software</span></a>, translate straightforwardly also for this example.</p>
<p>The extra preparation step is needed however, to extract the <em>mod-mda-JX10.lv2.tar.xz</em> file content to <em>/usr/lib/lv2/mod-mda-JX10.lv2</em>. This is one of the paths where LV2 plugins should be installed, according to the LV2 standard’s conventions.</p>
<p>Since the Sushi configuration file does not refer to absolute plugin paths for LV2, the .json file can be the same for both desktop Linux, and the RPi.</p>
</section>
<section id="multi-fx">
<h2>Multi FX<a class="headerlink" href="#multi-fx" title="Permalink to this headline">¶</a></h2>
<p>This example requires the following files:</p>
<ol class="simple">
<li><p>elk_multi_fx_desktop.json - the Sushi configuration file.</p></li>
<li><p>elk_multi_fx_pi.json - the Sushi configuration file.</p></li>
<li><p>elk_multi_fx_open_stage_control_gui.json - the Open Stage Control GUI.</p></li>
<li><p><a class="reference external" href="https://github.com/elk-audio/elk-examples/releases/download/examples_01/mda-vst2-plugins.tar.gz">mda-vst2-plugins.tar.gz</a> - a build of the MDA VST 2 plugins for x86 desktop Linux, containing the effects the example invokes.</p></li>
</ol>
<p>This is a more complex example, demonstrating a simple ‘glue’ app between Sushi and an external hardware controller or software GUI, to enable 2-way communication between the controller and Sushi, as well as setting parameter values and programs over gRPC. An Open Stage Control setup is provided, but the OSC paths are deliberately named so as to mimic those of a hardware control surface set up with Sensei.</p>
<p>The example consists of 4 simple effect plugins in series, each having 1 adjustable parameter, an enabled/disabled button with indicator and 4 preset slots.</p>
</section>
</section>
<section id="juce-example-c-source-code">
<h1>JUCE Example C++ Source Code<a class="headerlink" href="#juce-example-c-source-code" title="Permalink to this headline">¶</a></h1>
<p>The source code and JUCE <em>.jucer</em> file, for building our Elk JUCE example VST 2 plugin.</p>
<p>For a configuration file, and Python glue program, please refer to the folder <em>bloackboard/elk-juce-example</em>, of the elk-examples repository.</p>
</section>
<section id="complete-blackboard-examples">
<h1>Complete Blackboard Examples<a class="headerlink" href="#complete-blackboard-examples" title="Permalink to this headline">¶</a></h1>
<p>The examples under the <em>blackboard</em> folder, are specifically made to run on the Elk Pi, using the  Blackboard controller board. They are compatible both with the Raspberry Pi 3 and Pi 4, but you will need to separately download the plugin binaries specific to each platform, from the examples repository’s releases section: <a class="reference external" href="https://github.com/elk-audio/elk-examples/releases/download/examples_01/pi3-plugins.tar.gz">Pi3</a>, &amp; <a class="reference external" href="https://github.com/elk-audio/elk-examples/releases/download/examples_01/pi4-plugins.tar.gz">Pi4</a>.</p>
<p>Running these is not possible on the desktop, since they depend on the Blackboard, and the Sensei app to interface with it, which can only run on a RPi with an Elk Pi board.</p>
<p>All examples depend on the same Sensei configuration file, which is available globally on your RPi starting from image version 0.7.2.</p>
<p>The also depend on two Python libraries provided by Elk, and available globally on your RPi starting from image 0.7.2: elkpy, wrapping the gRPC and OSC calls to Sushi and Sensei, and elk_ui, wrapping the interfacing with the screen on the Blackboard.</p>
<p>All examples are created with Sushi configuration files that expect the plugin binaries for your RPi to be available in <em>/udata/elk-examples/plugins</em>.  If you placed the example binaries in a different folder you will need to modify each configuration, e.g.  <em>/blackboard/controller-examples/sushi-configs/obxd_step.json</em>, to point to that new location.</p>
<p>Even if you only want to run one of the examples, copy the entire elk-examples repository to your RPi’s <em>/udata</em> folder, as many of the examples use files located throughout the repository so as to minimize unnecessary duplication.</p>
<section id="minimal">
<h2>Minimal<a class="headerlink" href="#minimal" title="Permalink to this headline">¶</a></h2>
<p>The example is purposefully minimal, comprising of under 75 lines of Python code, comments included. It demonstrates the smallest amount of programming that still can produce a usable self-contained instrument.</p>
<p>It consists of the <a class="reference external" href="https://www.discodsp.com/obxd/">OB-Xd</a> synthesizer, and our internal step-sequencer.</p>
<p>The glue app <em>main_app_minimal</em> exposes the Cutoff, Resonance, Attack and Release parameters of the OB-Xd, each controllable with one of the four Blackboard faders. The current parameter and value are displayed on the screen.</p>
<p>The buttons on the Blackboard send Note on/off messages to Sushi, and also updates the LED above the button pressed. This way you can interact with the sequence played even if you do not have a midi keyboard. Or, if you turn off the sequencer starting by default (”playing_mode” : “playing” in the sushi config), you can play melodies with the buttons.</p>
<p>To run the example, execute the batch script <em>$ ./run_sequencer_minimal</em>, in the folder <em>/udata/elk-examples/blackboard/controller-examples</em>.</p>
<p>In the same folder, you can then call the <em>$ ./stop</em> script to terminate all the processes.</p>
<p>These scripts are provided as a convenience, and to demonstrate the commands needed to start and stop the example.</p>
</section>
<section id="general-controller">
<h2>General Controller<a class="headerlink" href="#general-controller" title="Permalink to this headline">¶</a></h2>
<p>This example uses the same Sushi configuration file as the previous minimal example, of OB-Xd, and step sequencer.</p>
<p>The Python glue app it uses however is much more extensive, and general purpose: no matter the Sushi configuration, the glue app will use the Blackboard controls to fully expose all plugins’ parameters for modification using the Blackboard’s physical controls.</p>
<p>Pressing the encoder cycles through the available devices, exposing their parameters on the screen:</p>
<ul class="simple">
<li><p><strong>main</strong> [gain, pan]</p></li>
<li><p><strong>sequencer</strong> [pitch, step, step_ind, for each step]. See <a class="reference internal" href="sushi_internal_plugins.html"><span class="doc">our documentation on internal plugins</span></a> for more details on the step sequencer.</p></li>
<li><p><strong>synth</strong> - All of OB-Xd’s ~80 parameters - too many to list here. An OSC reference text file is available in <em>elk-examples/blackboard/obxd-sequencer/osc_address_patterns_for_obxd.txt</em>.</p></li>
</ul>
<p>By rotating the encoder, the page changes, exposing the next set of 4 parameters for the current plugin.</p>
<p>Finally, each of the currently displayed 4 parameters, are editable using the Blackboard’s four faders.</p>
<p>The buttons have the same note-playing functionality as in the minimal example.</p>
<p>To run the example, execute the batch script <em>$ ./run_sequencer_general</em>, in the folder <em>/udata/elk-examples/blackboard/controller-examples</em>.</p>
<p>In the same folder, you can then call the <em>$ ./stop</em> script to terminate all the processes.</p>
</section>
<section id="multi-fx-for-blackboard">
<h2>Multi-FX, for Blackboard<a class="headerlink" href="#multi-fx-for-blackboard" title="Permalink to this headline">¶</a></h2>
<p>This example invokes the same Sushi configuration file as the multi-fx example for Desktop Linux / general Elk Pi described above. In this case however the example also instantiates the general controller, allowing the control of the parameters of all four loaded effects, switching between them using the push-encoder.</p>
<p>To run the example, execute the batch script <em>$ ./run_multi_fx</em>, in the folder <em>/udata/elk-examples/blackboard/controller-examples</em>.</p>
<p><strong>Important: To use the blackboard’s rightmost 2 jack audio inputs, you need to plug a 3.5mm stereo mini-jack adapted/cable into the elk-pi input as well, leaving cable’s/adapter’s other end unconnected. That bridges the connection to the Blackboards inputs - if you don’t the inputs will not reach the elk-pi.</strong> Or, just use the minijack input on the elk-pi right away, if that is more convenient to you.</p>
<p>In the sample folder, you can then call the <em>$ ./stop</em> script to terminate all the processes.</p>
</section>
<section id="juce-example-for-blackboard">
<h2>JUCE Example, for Blackboard<a class="headerlink" href="#juce-example-for-blackboard" title="Permalink to this headline">¶</a></h2>
<p>The Elk JUCE example plugin is accompanied by a Python glue program for integrating it with the Blackboard controls, and with an instance of the plugin running on a desktop computer, synchronizing the two plugin instance’s (Elk Pi and desktop) state over OSC.</p>
<p>Again, we provide batch scripts to start and stop, in the folder <em>/udata/elk-examples/blackboard/elk-juce-example</em>.</p>
<p>In this repository’s releases section we provide downloads for the plugin built for <a class="reference external" href="https://github.com/elk-audio/elk-examples/releases/download/examples_01/elk_juce_example_linux_bin_15-11-19.zip">Ubuntu Linux</a>, <a class="reference external" href="https://github.com/elk-audio/elk-examples/releases/download/examples_01/elk_juce_example_win_bin_15-11-19.zip">Windows</a> and <a class="reference external" href="https://github.com/elk-audio/elk-examples/releases/download/examples_01/elk_juce_example_osx_bin_15-11-19.zip">OS X</a> - executable as standalone, or as VST 2.</p>
<p><img alt="elk_juce_example_screenshot" src="../_images/elk_juce_example_screenshot.png" /></p>
<p>To achieve the bi-directional control synchronization between the instances running on the desktop and on the Elk Pi, the two devices need to be on the same network, and the desktop’s IP address needs to be assigned to <em>GUI_APP_ADDRESS</em> in the Python glue app: <em>/blackboard/elk-juce-example/main/main_app</em>.</p>
<p>Also enter the Elk Pi’s IP address in the “Target IP Address” field of the Desktop instance’s GUI.</p>
<p>Now, if you move a slider on the desktop GUI, the same parameter will be affected on the Elk Pi, with the display showing the new value received.</p>
</section>
<section id="ob-xd-sequencer">
<h2>OB-Xd Sequencer<a class="headerlink" href="#ob-xd-sequencer" title="Permalink to this headline">¶</a></h2>
<p>This example is an adaptation of the example we used when introducing the Elk Pi board at the 2019 ADC conference. Since it was very well received, we want to provide a version of it also for the Blackboard.</p>
<p>It also comes with a fully-featured Open Stage Control GUI for remote-controlling over OSC.</p>
<p><img alt="obxd_open_stage_control" src="../_images/obxd_open_stage_control.png" /></p>
</section>
</section>
<section id="benchmark-synth">
<h1>Benchmark Synth<a class="headerlink" href="#benchmark-synth" title="Permalink to this headline">¶</a></h1>
<p>This is a simple tool that uses Sushi’s internal timing mechanism and its gRPC API to accurate measure the CPU load of a synthesizer at NoteON events.</p>
<p>See the <a class="reference external" href="https://github.com/elk-audio/elk-examples/blob/master/benchmark-synth/">README.md in the benchmark-synth subfolder</a> for more details.</p>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Examples Overview</a></li>
<li><a class="reference internal" href="#basic-plugin-hosting">Basic Plugin Hosting</a><ul>
<li><a class="reference internal" href="#mda-jx10-vst3">MDA JX10 VST3</a></li>
<li><a class="reference internal" href="#mda-jx10-vst2">MDA JX10 VST2</a></li>
<li><a class="reference internal" href="#lv2vst-wrapper-with-mda-jx10-lv2">LV2VST Wrapper, with MDA JX10 LV2</a></li>
<li><a class="reference internal" href="#multi-fx">Multi FX</a></li>
</ul>
</li>
<li><a class="reference internal" href="#juce-example-c-source-code">JUCE Example C++ Source Code</a></li>
<li><a class="reference internal" href="#complete-blackboard-examples">Complete Blackboard Examples</a><ul>
<li><a class="reference internal" href="#minimal">Minimal</a></li>
<li><a class="reference internal" href="#general-controller">General Controller</a></li>
<li><a class="reference internal" href="#multi-fx-for-blackboard">Multi-FX, for Blackboard</a></li>
<li><a class="reference internal" href="#juce-example-for-blackboard">JUCE Example, for Blackboard</a></li>
<li><a class="reference internal" href="#ob-xd-sequencer">OB-Xd Sequencer</a></li>
</ul>
</li>
<li><a class="reference internal" href="#benchmark-synth">Benchmark Synth</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../elkpy-doc/elkpy.transportcontroller.html"
                        title="previous chapter">elkpy.TransportControlller</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="elk_pi_datasheet.html"
                        title="next chapter">Overview</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/documents/elk_examples_overview.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="elk_pi_datasheet.html" title="Overview"
             >next</a> |</li>
        <li class="right" >
          <a href="../elkpy-doc/elkpy.transportcontroller.html" title="elkpy.TransportControlller"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Elk DevKit  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Examples Overview</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Elk.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.2.0.
    </div>
  </body>
</html>