
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Sushi Public API Model &#8212; Elk DevKit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Sushi Configuration" href="sushi_configuration_format.html" />
    <link rel="prev" title="Sushi: The DAW Inside Elk" href="sushi_overview.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="sushi_configuration_format.html" title="Sushi Configuration"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="sushi_overview.html" title="Sushi: The DAW Inside Elk"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Elk DevKit  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Sushi Public API Model</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="sushi-public-api-model">
<span id="id1"></span><h1>Sushi Public API Model<a class="headerlink" href="#sushi-public-api-model" title="Permalink to this headline">¶</a></h1>
<figure class="align-default" id="id2">
<img alt="img" src="../_images/sushi_architecture.png" />
<figcaption>
<p><span class="caption-text"><em>(Note that in the current 0.11 version of Sushi, return tracks are not yet implemented).</em></span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<section id="processors-tracks-plugins-and-parameters">
<h2>Processors, Tracks, Plugins and Parameters<a class="headerlink" href="#processors-tracks-plugins-and-parameters" title="Permalink to this headline">¶</a></h2>
<p>The central entity in Sushi is the Processor. Plugins, once loaded, are processors.
And, Tracks are also processors, with the difference,
that tracks can in turn contain a set of processors (originating as instantiated plugins).</p>
<p>Tracks, and the processors they contain, are all contained within the Audio Graph, through which all
modification of this structure is managed.</p>
<p>Each processor has:</p>
<ul class="simple">
<li><p>A set of input and output parameters.</p></li>
<li><p>A set of input and output audio channels.</p></li>
<li><p>A set of input and output keyboard channels.</p></li>
<li><p>A set of programs (presets) which can be stored and recalled.</p></li>
</ul>
<p>The audio and MIDI channels of a track need to be explicitly connected to the
inputs and outputs of Sushi.</p>
<p>The processors contained in tracks all have the same audio and keyboard connection counts, chained within the track.</p>
<p>Each audio track can be set to use one of three modes for the audio channel configuration:
“mono”, “stereo” and “multibus”. The multibus option is for tracks with several stereo output busses routable to different output.</p>
<p>Individually, the parameters of each processor can be controlled by various means:</p>
<ul class="simple">
<li><p>Over MIDI Control Change.</p></li>
<li><p>Over Open Sound Control (OSC) messages.</p></li>
<li><p>Using CV connections.</p></li>
<li><p>Set directly over gRPC.</p></li>
<li><p>Set in the JSON configuration file to specific values on startup, or even played back over time during off-line processing.</p></li>
</ul>
<p>Also, mappings can be created to each processor, to echo/notify of the change of state of its internal parameters:</p>
<ul class="simple">
<li><p>Over OSC messages.</p></li>
<li><p>Using CV / Gate connections.</p></li>
<li><p>Using Notifications over gRPC.</p></li>
</ul>
</section>
<section id="global-sushi-settings">
<h2>Global Sushi Settings<a class="headerlink" href="#global-sushi-settings" title="Permalink to this headline">¶</a></h2>
<p>Besides parameters set per processor, there are several global settings to control in Sushi.</p>
<p>The set of physical audio, MIDI and CV/Gate channels to use (limited of course by the hardware Sushi runs on), are defined during startup,
and are not changeable run-time.</p>
<p>The Global Transport is used to set tempo, time signature and play/stop states, for any plugins that have internal sequencing,
and for Ableton Link and midi clock.</p>
<p>During run-time, timing data on the processor utilization can be generated and fetched / subscribed to.</p>
</section>
<section id="accessing-the-sushi-model">
<h2>Accessing the Sushi Model<a class="headerlink" href="#accessing-the-sushi-model" title="Permalink to this headline">¶</a></h2>
<p>For many of the above, there are ways of accessing the data over both the JSON configuration file, MIDI, OSC and gRPC.
For others, it may only be possible over one of the above.</p>
<p>Generally the complexity of what can be achieved with each is as follows:</p>
<ul class="simple">
<li><p><a class="reference external" href="sushi_configuration_format.html">Configuration over JSON</a>: Everything that can be defined statically is possible to set in the configuration file.</p></li>
<li><p>The <a class="reference external" href="sushi_control_grpc.html">gRPC API</a>: covers the vast majority of all that can be accessed, adding also run-time access for dynamic alterations and monitoring.</p></li>
<li><p>The <a class="reference external" href="sushi_control_osc.html">Open Sound Control API</a> defines a streamlined sub-set of operations, selected to make sense for the common contexts of use for OSC: Efficient messages notifying of parameter changes; and enabling End-Users to create their own custom GUI’s and mappings to other media tools.</p></li>
<li><p>MIDI, CC and CV/Gate are also primarily defined to be accessible by end-users, for their integration of the audio device with their other technologies.</p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Sushi Public API Model</a><ul>
<li><a class="reference internal" href="#processors-tracks-plugins-and-parameters">Processors, Tracks, Plugins and Parameters</a></li>
<li><a class="reference internal" href="#global-sushi-settings">Global Sushi Settings</a></li>
<li><a class="reference internal" href="#accessing-the-sushi-model">Accessing the Sushi Model</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="sushi_overview.html"
                        title="previous chapter">Sushi: The DAW Inside Elk</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="sushi_configuration_format.html"
                        title="next chapter">Sushi Configuration</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/documents/sushi_public_api_model.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="sushi_configuration_format.html" title="Sushi Configuration"
             >next</a> |</li>
        <li class="right" >
          <a href="sushi_overview.html" title="Sushi: The DAW Inside Elk"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Elk DevKit  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Sushi Public API Model</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Elk.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.2.0.
    </div>
  </body>
</html>