
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>elkpy.NotificationController &#8212; Elk DevKit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="elkpy.OSCController" href="elkpy.osccontroller.html" />
    <link rel="prev" title="elkpy.MidiController" href="elkpy.midicontroller.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="elkpy.osccontroller.html" title="elkpy.OSCController"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="elkpy.midicontroller.html" title="elkpy.MidiController"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Elk DevKit  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >gRPC helper libraries</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="elkpy.html" accesskey="U">elkpy python API</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">elkpy.NotificationController</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-elkpy.notificationcontroller">
<span id="elkpy-notificationcontroller"></span><h1>elkpy.NotificationController<a class="headerlink" href="#module-elkpy.notificationcontroller" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="elkpy.notificationcontroller.NotificationController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">elkpy.notificationcontroller.</span></span><span class="sig-name descname"><span class="pre">NotificationController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'localhost:51051'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sushi_proto_def</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/usr/share/sushi/sushi_rpc.proto'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elkpy/notificationcontroller.html#NotificationController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#elkpy.notificationcontroller.NotificationController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class to manage subscriptions to Sushi notifications (changes, updates, …)
It allows the User, through simple API calls, to subscribe to any notification stream implemented in Sushi,
and to attach call-back functions to each subscribed stream.</p>
<p>(See the API section at the bottom of this class.)</p>
<dl class="simple">
<dt>Attributes:</dt><dd><p>address: gRPC server IP (str: ip:port)
loop: an asynchronous event loop</p>
</dd>
<dt>Notes:</dt><dd><p>close() should ALWAYS be called as part of an application housekeeping/cleanup-before-shutdown routine as it
ensure proper releasing of resources and clean joining of concurrent threads.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="elkpy.notificationcontroller.NotificationController.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'localhost:51051'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sushi_proto_def</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/usr/share/sushi/sushi_rpc.proto'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elkpy/notificationcontroller.html#NotificationController.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#elkpy.notificationcontroller.NotificationController.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The constructor for the NotificationController class setting up the gRPC connection with sushi.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><p>address (str): ‘ip-address:port’ The ip-address and port at which to connect to sushi.
sushi_proto_def (str): path to .proto file with SUSHI’s gRPC services definition.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elkpy.notificationcontroller.NotificationController.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elkpy/notificationcontroller.html#NotificationController.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#elkpy.notificationcontroller.NotificationController.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elkpy.notificationcontroller.NotificationController.process_parameter_update_notifications">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">process_parameter_update_notifications</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">call_back</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elkpy/notificationcontroller.html#NotificationController.process_parameter_update_notifications"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#elkpy.notificationcontroller.NotificationController.process_parameter_update_notifications" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elkpy.notificationcontroller.NotificationController.process_processor_change_notifications">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">process_processor_change_notifications</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">call_back</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elkpy/notificationcontroller.html#NotificationController.process_processor_change_notifications"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#elkpy.notificationcontroller.NotificationController.process_processor_change_notifications" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elkpy.notificationcontroller.NotificationController.process_property_update_notifications">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">process_property_update_notifications</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">call_back</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">property_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elkpy/notificationcontroller.html#NotificationController.process_property_update_notifications"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#elkpy.notificationcontroller.NotificationController.process_property_update_notifications" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elkpy.notificationcontroller.NotificationController.process_timing_update_notifications">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">process_timing_update_notifications</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">call_back</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elkpy/notificationcontroller.html#NotificationController.process_timing_update_notifications"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#elkpy.notificationcontroller.NotificationController.process_timing_update_notifications" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elkpy.notificationcontroller.NotificationController.process_track_change_notifications">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">process_track_change_notifications</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">call_back</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elkpy/notificationcontroller.html#NotificationController.process_track_change_notifications"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#elkpy.notificationcontroller.NotificationController.process_track_change_notifications" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elkpy.notificationcontroller.NotificationController.process_transport_change_notifications">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">process_transport_change_notifications</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">call_back</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elkpy/notificationcontroller.html#NotificationController.process_transport_change_notifications"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#elkpy.notificationcontroller.NotificationController.process_transport_change_notifications" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elkpy.notificationcontroller.NotificationController.subscribe_to_parameter_updates">
<span class="sig-name descname"><span class="pre">subscribe_to_parameter_updates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_blocklist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elkpy/notificationcontroller.html#NotificationController.subscribe_to_parameter_updates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#elkpy.notificationcontroller.NotificationController.subscribe_to_parameter_updates" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribes to Parameter update notification stream from Sushi
User needs to implement their own logic to process these notification in the placeholder methods below</p>
<dl class="simple">
<dt>Parameters:</dt><dd><p>cb: a callable that will be called for each notification received from the stream.
param_blocklist: a list of parameter identifiers for which to block update notifications.                         A parameter identifier is itself a list of [processor_id: int, parameter_id: int]                         If no param_blocklist is passed, all parameter notifications will be subscribed to.</p>
</dd>
<dt>Notes to write useful callbacks:</dt><dd><p>Notification objects have 2 attributes: parameter and value;
Parameter itself has 2 attributes: processor_id and _parameter_id;
ex: notification.parameter.parameter_id (gets the parameter ID)
ex: notification.parameter.processor_id (gets the processor ID)
ex: notification.normalized_value (gets the value normalized between 0 and 1)
ex: notification.domain_value (gets the domain value)
ex: notification.formatted_value (gets the value formatted as a string)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elkpy.notificationcontroller.NotificationController.subscribe_to_processor_changes">
<span class="sig-name descname"><span class="pre">subscribe_to_processor_changes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elkpy/notificationcontroller.html#NotificationController.subscribe_to_processor_changes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#elkpy.notificationcontroller.NotificationController.subscribe_to_processor_changes" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribes to Processor change notification stream from Sushi.
User needs to implement their own stream consumer logic and pass it as cb.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><p>cb: a callable that will be called for each notification received from the stream.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elkpy.notificationcontroller.NotificationController.subscribe_to_property_updates">
<span class="sig-name descname"><span class="pre">subscribe_to_property_updates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">property_blocklist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elkpy/notificationcontroller.html#NotificationController.subscribe_to_property_updates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#elkpy.notificationcontroller.NotificationController.subscribe_to_property_updates" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribes to Property update notification stream from Sushi
User needs to implement their own logic to process these notification in the placeholder methods below</p>
<dl class="simple">
<dt>Parameters:</dt><dd><p>cb: a callable that will be called for each notification received from the stream.</p>
</dd>
<dt>Notes to write useful callbacks:</dt><dd><p>Notification objects have 2 attributes: property and value;
Property itself has 2 attributes: processor_id and property_id;
ex: notification.parameter.property_id (gets the property ID)
ex: notification.parameter.processor_id (gets the processor ID)
ex: notification.value (gets the value)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elkpy.notificationcontroller.NotificationController.subscribe_to_timing_updates">
<span class="sig-name descname"><span class="pre">subscribe_to_timing_updates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elkpy/notificationcontroller.html#NotificationController.subscribe_to_timing_updates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#elkpy.notificationcontroller.NotificationController.subscribe_to_timing_updates" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribes to Timing update notification stream from Sushi
User needs to implement their own stream consumer logic and pass it as cb.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><p>cb: a callable that will be called for each notification received from the stream.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elkpy.notificationcontroller.NotificationController.subscribe_to_track_changes">
<span class="sig-name descname"><span class="pre">subscribe_to_track_changes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elkpy/notificationcontroller.html#NotificationController.subscribe_to_track_changes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#elkpy.notificationcontroller.NotificationController.subscribe_to_track_changes" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribes to Track change notification stream from Sushi.
User needs to implement their own stream consumer logic and pass it as cb.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><p>cb: a callable that will be called for each notification received from the stream.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elkpy.notificationcontroller.NotificationController.subscribe_to_transport_changes">
<span class="sig-name descname"><span class="pre">subscribe_to_transport_changes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cb</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/elkpy/notificationcontroller.html#NotificationController.subscribe_to_transport_changes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#elkpy.notificationcontroller.NotificationController.subscribe_to_transport_changes" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribes to Transport changes notification stream from Sushi
User needs to implement their own stream consumer logic and pass it as cb.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><p>cb: a callable that will be called for each notification received from the stream.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="elkpy.midicontroller.html"
                        title="previous chapter">elkpy.MidiController</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="elkpy.osccontroller.html"
                        title="next chapter">elkpy.OSCController</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/elkpy-doc/elkpy.notificationcontroller.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="elkpy.osccontroller.html" title="elkpy.OSCController"
             >next</a> |</li>
        <li class="right" >
          <a href="elkpy.midicontroller.html" title="elkpy.MidiController"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Elk DevKit  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >gRPC helper libraries</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="elkpy.html" >elkpy python API</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">elkpy.NotificationController</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Elk.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.2.
    </div>
  </body>
</html>