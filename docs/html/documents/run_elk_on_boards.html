
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Run Elk on Boards &#8212; Elk DevKit  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Sushi: The DAW Inside Elk" href="sushi_overview.html" />
    <link rel="prev" title="Raspberry Pi 4 + Hifiberry Hardware" href="getting_started_with_hifiberry.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="sushi_overview.html" title="Sushi: The DAW Inside Elk"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="getting_started_with_hifiberry.html" title="Raspberry Pi 4 + Hifiberry Hardware"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Elk DevKit  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Run Elk on Boards</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="run-elk-on-boards">
<h1>Run Elk on Boards<a class="headerlink" href="#run-elk-on-boards" title="Permalink to this headline">¶</a></h1>
<p>This guide expects that you have followed the previous Getting Started guide for your specific board to be ready to power up.</p>
<p>The following steps are the same for all our development kit boards, covering the software, and how you get your first sound to play from the board.</p>
<section id="power-it-up-connect">
<h2>1. Power it up, connect…<a class="headerlink" href="#power-it-up-connect" title="Permalink to this headline">¶</a></h2>
<p>For getting access to the board terminal you have several options:</p>
<ol class="simple">
<li><p>Connect a monitor over HDMI, and a keyboard directly to the USB slot.</p></li>
<li><p>Connect over SSH using Ethernet.</p></li>
<li><p>If the above two recommended options are not available to you, you can also connect through serial tty using a UART-to-USB converter with an FTDI chip - <a class="reference internal" href="working_with_elk_board.html"><span class="doc">read more here</span></a>.</p></li>
</ol>
<p>For setting up SSH connections follow these tips:</p>
<ol class="simple">
<li><p>If your host board has an Ethernet port and you connected it directly to your computer, set up a shared internet connection for your computers Ethernet port - for example <a class="reference external" href="https://www.cesariogarcia.com/?p=611">following these instructions in the case of Linux</a>.</p></li>
<li><p>Assuming Linux/macOS, you can connect to your board with the command <em>$ ssh mind&#64;elk-pi.local</em>.</p>
<ol class="simple">
<li><p>If this fails, or if you want to connect to more than one board at the same time, you will need the IP address
of your board(s). to see the IP address(es) run <em>$ arp -a</em> - then connect over SSH to the IP you find.</p></li>
</ol>
</li>
<li><p>On Windows, you can use <a class="reference external" href="https://www.putty.org/">Putty</a> for SSH.</p></li>
<li><p>Once you have a terminal window, just log in: username <em>mind</em>, password <em>elk</em>.</p></li>
</ol>
</section>
<section id="check-audio-hat">
<h2>2. Check audio hat<a class="headerlink" href="#check-audio-hat" title="Permalink to this headline">¶</a></h2>
<p>Elk Audio OS automatically detects the audio hat during boot by probing the Codecs. The detected hat name can be shown by running</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cat /tmp/audio_hat
</pre></div>
</div>
<p>In case your hat is not recognized or is not supported you will have a warning message during login like this one</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Sorry</span><span class="p">,</span> <span class="n">elk</span><span class="o">-</span><span class="n">pi</span> <span class="n">hat</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">currently</span> <span class="n">supported</span><span class="o">.</span>

<span class="n">Audio</span> <span class="n">driver</span> <span class="n">load</span> <span class="n">failed</span><span class="o">.</span>
</pre></div>
</div>
<p>If this message appears then the core audio components (driver, RASPA and Sushi) of ELK Audio OS will not be functional.</p>
<p>For Elk Pi users please read related comments on <a class="reference internal" href="elk_audio_os_1_0.html"><span class="doc">Elk Audio OS v1.0 notes</span></a>.</p>
</section>
<section id="and-run-sushi">
<h2>3. And run Sushi<a class="headerlink" href="#and-run-sushi" title="Permalink to this headline">¶</a></h2>
<p>You will find several configurations and plugins ready to test on the image, under the folders <em>~/config_files</em> and
<em>~/plugins</em> in the user folder.</p>
<p>Unlike when running on a regular Linux machine, Sushi doesn’t use JACK for audio on the Raspberry Pi, so you should
run Sushi using the <em>-r</em> switch for selecting our RASPA low-latency front-end:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sushi -r --multicore-processing<span class="o">=</span><span class="m">2</span> -c ~/config_files/play_vst3.json <span class="p">&amp;</span>
</pre></div>
</div>
<p>Note the <em>&amp;</em> at the end - this means the process starts in the background. When you later need to stop it, you type
<em>$ pkill sushi</em>.</p>
<p>To connect USB Midi devices, just plug them and connect them with the <em>aconnect</em> tool:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># List available port for connections</span>
$ aconnect -l
<span class="c1"># Take note of the port number X for your MIDI controller (e.g. 16) and the one Y assigned to Sushi</span>
<span class="c1"># (e.g. 128)</span>
$ aconnect X Y
<span class="c1"># As an alternative to port numbers, it is possible to use the names reported by aconnect -l</span>
</pre></div>
</div>
<p>If you connect a USB Midi keyboard and a pair of headphones to the Elk Pi, you will now be able to play the MDA JX10 synthesizer running on the board!</p>
<p>Since this is a development board, you will need to start Sushi manually - but under <a class="reference internal" href="working_with_elk_board.html"><span class="doc">Working with Elk</span></a>. we show how the device can be configured to load a setup automatically on power-on.</p>
</section>
<section id="powering-down">
<h2>4. Powering down<a class="headerlink" href="#powering-down" title="Permalink to this headline">¶</a></h2>
<p>In development releases of Elk, the storage is mounted for both reading and writing, so do not just pull the power cord on the board when you want to turn it off, or you risk corrupting the file-system.</p>
<p>Instead, type <em>$ sudo poweroff</em> to safely shutdown the system.</p>
</section>
<section id="further-steps">
<h2>5. Further steps<a class="headerlink" href="#further-steps" title="Permalink to this headline">¶</a></h2>
<p>Congratulations, you have now learned all the necessary first steps for working with the Elk development kit hardware and software!</p>
<p>There is however much further functionality, which you can learn about in the subsequent reference manual sections - most importantly for the development kit board, absolutely do read our documentation on <a class="reference internal" href="working_with_elk_board.html"><span class="doc">Working with your Elk Board</span></a>.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Run Elk on Boards</a><ul>
<li><a class="reference internal" href="#power-it-up-connect">1. Power it up, connect…</a></li>
<li><a class="reference internal" href="#check-audio-hat">2. Check audio hat</a></li>
<li><a class="reference internal" href="#and-run-sushi">3. And run Sushi</a></li>
<li><a class="reference internal" href="#powering-down">4. Powering down</a></li>
<li><a class="reference internal" href="#further-steps">5. Further steps</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="getting_started_with_hifiberry.html"
                        title="previous chapter">Raspberry Pi 4 + Hifiberry Hardware</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="sushi_overview.html"
                        title="next chapter">Sushi: The DAW Inside Elk</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/documents/run_elk_on_boards.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="sushi_overview.html" title="Sushi: The DAW Inside Elk"
             >next</a> |</li>
        <li class="right" >
          <a href="getting_started_with_hifiberry.html" title="Raspberry Pi 4 + Hifiberry Hardware"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Elk DevKit  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Run Elk on Boards</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Elk.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.2.
    </div>
  </body>
</html>